
## AR Mode: Summary

This document explores one approach for how a user agent could help users clearly understand the privacy and security implications of web-based AR experiences. The goal of this approach is to provide temporary access to the sensitive data that may be needed for AR experiences, with a clear opportunity for the user to consent as well as a clear beginning and, especially, end to when that sensitive data can be accessed. This is something that the current permissions concept in browsers does not accomplish.

One option to achieving this goal is an explicit "AR Mode" which may ask for user consent before entering, with consent only lasting as long as the user agent is in that mode. Advantages of this approach over permissions include that it avoids (1) over-prompting and permission fatigue; (2) ambiguity in description and how the permission request(s) connect to the actual AR experience, and (3) long-running or persistent site access to sensitive data. "AR Mode" has additional benefits in that the user agent can selectively choose whether to ask for consent or simply notify the user, depending upon the data access level -  as well as provide an appropriate message for the capabilities requested for this specific session. This mode is also consistent with immersive/exclusive VR sessions.

# Concerns with using traditional permissions

1.  _Over-prompting and fatigue._ Users that get prompted for permission(s) every time they enter an AR experience could be trained to accept _all_ types of permissions without reading them. For AR in particular, a site may be able to train a user to accept an AR permission and then prompt for (and gain) permanent camera permission without the user reading the prompt or understanding that the camera permission is not related and/or restricted to the AR capabilities.
2.  _Ambiguity, Complexity_. There are two problems here:
    1.  Accurately describing what is happening. AR may expose a wide range of data to the site, and it's difficult to describe that data access in a manner that is clear to the user. In some ways, _incomprehensible permissions are worse than no permission_, and existing permission UX is often limited in how much text it can display.
    2.  Connecting the permission with the AR session. The current permissions UX may confuse users who might approve or deny it without realizing that it is a gatekeeper to a camera-based AR experience (i.e. they think it's just another permission).
3.  _Data access beyond the life of the session_. There are [threat vectors](https://github.com/immersive-web/privacy-and-security/issues/6) associated with a site having access to resources after the AR session ends, particularly if those resources are general permissions (e.g. camera), but even the [perception of camera access is a threat vector](https://github.com/immersive-web/privacy-and-security/issues/3), meaning that a long-running AR permission is a potential danger. Web and native permission models have generally included some amount of persistence (either permanent or time-limited) to reduce friction and over-prompting. Further, it's not clear that explicit user control solves this problem; for example, experiments with giving users full control over persistence in Chrome have shown that the overwhelming majority of users do not utilize these controls.
4.  _Consent vs. Notification_. In future specs, there could potentially be AR sessions where no data is shared with the site, but user agents may still need to notify the user what is happening (e.g. a declarative AR API where the site cannot access the [camera](https://github.com/immersive-web/privacy-and-security/issues/3)). The existing Permissions model does not support this.

# AR Mode

Instead of permissions, an alternative approach is an explicit "AR Mode" which may ask for user consent before entering, with consent lasting only as long as the page is in this mode (i.e., session). This has the following benefits.

1.  _Flexibility_. The user agent can either ask for consent, or notify the user, or both. There is more UX opportunity to present detailed information to the user without the constraints of traditional permissions UX. Further, this approach allows iteration to improve the experience. This approach also gives the most opportunity to customize the experience across a variety of form factors, some of which may have different data sharing or UX requirements than others.
2.  _Clear Scope_. Similar to Full Screen and VR presentation modes, it will be clear to users that they are entering a specific mode and there can be clear instructions on how to leave that mode. The origin that has data access during the mode can also be clearly indicated, and it's clear to the user that they're entering a specific experience, not just giving the site access to some data.
3.  _Enforcement_. The AR mode can enforce data access directly connected to what the user was notified of, and what user consent was provided. This may be less clearly defined with a permission that could (in theory) be requested independent of the actual session creation.

Such an AR mode would need to be clearly indicated to the user. One approach to this might be to follow similar UX patterns to today's fullscreen mode. Such UX patterns include giving users clear control, with opportunities for key capture (e.g. ESC to leave) and a clear indication that they can leave AR mode to return to the site. Following those patterns, navigation would terminate the session, giving the user a clear UX indication that something has happened (though re-entry on navigation, similar to what is being discussed for VR presentation, may be allowed). If the mode was rendering fullscreen, there would likely be a requirement for DOM integration to allow rendering of 2D elements over the AR view, but details of that solution are out of scope for this exploration.

There _might_ also be an opportunity to support AR mode inline, but there are certain concerns:

1.  _Longevity._ It's not clear how a 3D AR experience on a 2D web page will be portable to other form factors (specifically HMDs). There are open questions around AR rendering that will be addressed separately.
2.  _Understanding of Scope._ It's not clear how the user agent would indicate that AR mode is active somewhere on a page, or which parts of the page are using it. It's also unclear what behavior would make sense if focus changes.
